<header class="header">
    <div class="header-container">
        <i class="fas fa-receipt header-logo"></i>
        <div class="app-name">ЧекСканер</div>
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" title="Темная тема" />
                <div class="slider round"></div>
            </label>
        </div>
    </div>
</header>

<div class="main-container">
    <!-- Блок сканирования -->
    <div class="card">
        <h2 class="card-title"><i class="fas fa-camera"></i> Сканирование чека</h2>
        <div class="scanner-placeholder" id="scannerPlaceholder">
            <div class="scanner-icon">
                <i class="fas fa-camera"></i>
            </div>
            <p>Наведите камеру на чек или загрузите фото</p>
        </div>
        <input type="file" id="receiptUpload" accept="image/*" style="display: none;">
        <img id="scannerPreview" class="scanner-preview" alt="Предпросмотр чека">
        <button class="btn btn-primary btn-block" id="scanBtn">
            <i class="fas fa-camera"></i> Сканировать чек
        </button>
    </div>

    <!-- Блок распределения платежей -->
    <div class="card manual-distribution-block">
        <h2 class="card-title"><i class="fas fa-percentage"></i> Распределение платежей</h2>

        <div class="distribution-type-selector">
            <button class="btn btn-outline active" id="percentageModeBtn">
                <i class="fas fa-percent"></i> Процентный
            </button>
            <button class="btn btn-outline" id="manualModeBtn">
                <i class="fas fa-edit"></i> По позициям
            </button>
        </div>

        <!-- Процентное распределение -->
        <div id="percentageDistribution" class="distribution-section">
            <div class="participants-list" id="participantsList">
                <!-- Участники будут добавляться через JS -->
            </div>

            <!-- Блок добавления новых участников -->
            <div class="add-participant">
                <input type="text" id="newParticipantInput" placeholder="Введите имя участника">
                <button class="btn btn-outline" id="addParticipantBtn">
                    <i class="fas fa-plus"></i> Добавить
                </button>
            </div>

            <div class="distribution-summary">
                <div class="total-percentage">
                    Всего распределено: <span id="totalPercentage">0</span>%
                </div>
                <div class="total-amount">
                    Итого к оплате: <span id="totalAmount">0</span> ₽
                </div>
            </div>
            <button class="btn btn-primary btn-block" id="confirmDistributionBtn" disabled>
                <i class="fas fa-check"></i> Подтвердить распределение
            </button>
        </div>

        <!-- Ручное распределение по позициям -->
        <div id="manualDistribution" class="distribution-section" style="display: none;">
            <div class="participants-selection">
                <h3>Выберите участников:</h3>
                <div class="manual-participants-list" id="manualParticipantsList">
                    <!-- Участники для ручного режима -->
                </div>
            </div>

            <div class="bill-items" id="bill-items">
                <!-- Позиции чека будут добавляться через JS -->
            </div>
            <button class="btn btn-primary btn-block" id="calculate-button">
                <i class="fas fa-calculator"></i> Рассчитать доли
            </button>
            <div class="results" id="results"></div>
        </div>
    </div>

    <!-- Блок QR кода -->
    <div class="card qr-block">
        <h2 class="card-title"><i class="fas fa-qrcode"></i> Приглашение участников</h2>
        <div class="qr-code-container">
            <div class="qr-code">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNGRkZGRkYiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjI0IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0iIzIxQTAzOCI+UUstQ09ERTwvdGV4dD48L3N2Zz4="
                    alt="QR код">
            </div>
            <p class="qr-instruction">Отсканируйте QR-код для присоединения</p>
        </div>
    </div>

    <!-- Блок "Как использовать" -->
    <div class="card instructions-block">
        <h2 class="card-title"><i class="fas fa-question-circle"></i> Как использовать</h2>
        <div class="instructions-content">
            <ol class="instructions-list">
                <li>Сфотографируйте или загрузите чек</li>
                <li>Выберите или добавьте участников</li>
                <li>Выберите тип распределения: процентное или по позициям</li>
                <li>Настройте параметры распределения</li>
                <li>Подтвердите распределение</li>
                <li>Поделитесь QR-кодом с друзьями</li>
            </ol>
        </div>
    </div>

    <!-- Блок разработчиков -->
    <div class="card developers-block">
        <h2 class="card-title"><i class="fas fa-code"></i> Разработчики</h2>
        <div class="developers-list">
            <div class="developer">
                <i class="fas fa-server"></i> Backend: Артем Карандашов
            </div>
            <div class="developer">
                <i class="fas fa-server"></i> Backend: Антон Сибилев
            </div>
            <div class="developer">
                <i class="fas fa-laptop-code"></i> Frontend: Смородин Алексей
            </div>
            <div class="developer">
                <i class="fas fa-laptop-code"></i> Frontend: Смирнов Михаил
            </div>
        </div>
    </div>
</div>